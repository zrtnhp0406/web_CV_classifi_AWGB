{% extends "base.html" %}

{% block title %}Organic Fruit Classification - Home{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-background"></div>
    <div class="container hero-content">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                <h1 class="hero-title fade-in">
                    <span class="organic-text">Organic</span> fruit classification
                </h1>
                <p class="hero-subtitle fade-in delay-1">
                    Fresh, organic ingredients. Healthy, AI-powered classification.<br>
                    Right at your fingertips.
                </p>
                <a href="#classify" class="btn btn-primary btn-lg fade-in delay-2">
                    Start Classification
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features" id="features">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="section-title">Choose your program below<br>to see how we can help</h2>
        </div>
        
        <div class="row g-4 justify-content-center">
            <!-- Classification Feature -->
            <div class="col-lg-8 col-md-10">
                <div class="feature-card-single">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <div class="feature-image">
                                <img src="https://images.unsplash.com/photo-1619566636858-adf3ef46400b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="AI Fruit Classification" class="img-fluid">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="feature-content">
                                <h4>ðŸ¤– AI Fruit Classification</h4>
                                <p>Upload your fruit image and let our advanced deep learning models identify it with high accuracy using state-of-the-art computer vision technology.</p>
                                <a href="#classify" class="btn btn-primary btn-lg">Start Classifying</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Classification Section -->
<section class="classify-section" id="classify">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="classify-card">
                    <div class="text-center mb-4">
                        <h2 class="section-title">Classify Your Fruit</h2>
                        <p class="text-muted">Upload an image of your fruit and let our AI identify it for you</p>
                    </div>
                    
                    <form action="{{ url_for('classify') }}" method="post" enctype="multipart/form-data" id="classifyForm">
                        <div class="upload-area" id="uploadArea">
                            <div class="upload-content">
                                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                                <h4>Drop your image here</h4>
                                <p>or <span class="browse-text">browse</span> to choose a file</p>
                                <input type="file" name="file" id="fileInput" accept="image/*" required>
                            </div>
                            <div class="preview-area" id="previewArea" style="display: none;">
                                <img id="previewImage" src="" alt="Preview">
                                <div class="preview-info">
                                    <p id="fileName"></p>
                                    <button type="button" class="btn btn-sm btn-outline-danger" id="removeImage">
                                        <i class="fas fa-times"></i> Remove
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-primary btn-lg" id="classifyBtn" disabled>
                                <i class="fas fa-brain"></i> Classify Fruit
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Supported Fruits Section -->
<section class="supported-fruits">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="section-title">Supported Fruits</h2>
            <p class="text-muted">Our AI can identify these four types of fruits</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="fruit-item">
                    <div class="fruit-image-container">
                        <img src="https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Fresh Red Apple" class="fruit-real-image">
                    </div>
                    <h5>Apple</h5>
                    <p>Crisp, sweet, and nutritious</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="fruit-item">
                    <div class="fruit-image-container">
                        <img src="https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Fresh Yellow Banana" class="fruit-real-image">
                    </div>
                    <h5>Banana</h5>
                    <p>Rich in potassium and energy</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="fruit-item">
                    <div class="fruit-image-container">
                        <img src="https://images.unsplash.com/photo-1537640538966-79f369143f8f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Fresh Purple Grapes" class="fruit-real-image">
                    </div>
                    <h5>Grapes</h5>
                    <p>Antioxidant-rich clusters</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="fruit-item">
                    <div class="fruit-image-container">
                        <img src="https://images.unsplash.com/photo-1587049352846-4a222e784d38?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Fresh Watermelon Slice" class="fruit-real-image">
                    </div>
                    <h5>Watermelon</h5>
                    <p>Hydrating summer refresher</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Loading Modal -->
<div class="modal fade" id="loadingModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body text-center py-5">
                <div class="spinner-border text-primary mb-3" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <h4>Analyzing Your Fruit...</h4>
                <p class="text-muted">Our AI is processing your image</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Show loading modal when form is submitted
document.getElementById('classifyForm').addEventListener('submit', function() {
    const modal = new bootstrap.Modal(document.getElementById('loadingModal'));
    modal.show();
});
</script>
{% endblock %}
